@using Blazored.Toast.Configuration
@inherits LayoutComponentBase
@inject VisualGraph.Services.Interfaces.IGraphService graphService

<BlazoredToasts Position="ToastPosition.TopLeft"
                Timeout="5"
                SuccessClass="success-toast-override"
                SuccessIconClass="oi oi-thumbs-up"
                ErrorIconClass="oi oi-bug" />
<div class="sidebar">
    <NavMenu />
</div>
<div id="settings" class="navmenu-collapse collapse vh-100 mh-100">
    <div class="col-sm-12" style="overflow:hidden auto; max-height:100%;">
        @graphService.GetSettingsRenderFragment().Result
    </div>
</div>
<div id="grapheditform" class="navmenu-collapse collapse vh-100 mh-100">
    <div class="col-sm-12" style="overflow:hidden auto; max-height:100%;">
        @graphService.GetEditFormRenderFragment().Result
    </div>
</div>
<div class="main">
    <div class="top-row pl-4 navbar navbar-dark">
        
    </div>
    <div class="content vh-100">
        @Body
    </div>
</div>
@code{
    protected override async Task OnInitializedAsync()
    {
        await graphService.LoadGraphStyleParameters();
        StateHasChanged();
        base.OnInitialized();
    }
}
